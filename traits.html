<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOVA â€“ Key Traits</title>

  <style>
    :root {
      --nova-bg: #f9fafb;
      --nova-card-bg: #ffffff;
      --nova-teal: #14b8a6;
      --nova-teal-dark: #0f766e;
      --nova-text-main: #111827;
      --nova-text-muted: #6b7280;
      --nova-border: #e5e7eb;
      --nova-radius-lg: 18px;
      --nova-shadow-soft: 0 20px 50px rgba(15,118,110,0.10);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      min-height: 100vh;
      background: radial-gradient(circle at top left,#ecfeff 0,#f9fafb 45%,#f9fafb 100%);
      color: var(--nova-text-main);
    }

    main.traits-page {
      max-width: 1100px;
      margin: 36px auto 40px;
      padding: 0 16px 56px;
    }

    @media (min-width: 768px) {
      main.traits-page {
        margin-top: 48px;
      }
    }

    .traits-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .traits-step {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-weight: 600;
      color: var(--nova-teal);
      margin-bottom: 6px;
    }

    .traits-title {
      font-size: clamp(1.9rem, 3vw, 2.4rem);
      font-weight: 700;
      margin-bottom: 8px;
    }

    .traits-subtitle {
      max-width: 680px;
      margin: 0 auto;
      font-size: 0.98rem;
      color: var(--nova-text-muted);
      line-height: 1.5;
    }

    .traits-category-label {
      margin-top: 10px;
      font-size: 0.9rem;
      color: var(--nova-text-muted);
    }

    .traits-category-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      background: #ecfeff;
      border: 1px solid rgba(20,184,166,0.45);
      font-size: 0.86rem;
      color: var(--nova-teal-dark);
      font-weight: 500;
    }

    .traits-panel {
      margin-top: 26px;
      background: var(--nova-card-bg);
      border-radius: var(--nova-radius-lg);
      border: 1px solid var(--nova-border);
      box-shadow: var(--nova-shadow-soft);
      padding: 22px 18px 20px;
    }

    @media (min-width: 768px) {
      .traits-panel {
        padding: 26px 26px 24px;
      }
    }

    .traits-count {
      font-size: 0.86rem;
      color: var(--nova-text-muted);
      margin-bottom: 8px;
    }

    .traits-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--nova-text-muted);
      margin-bottom: 10px;
    }

    .traits-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    @media (min-width: 640px) {
      .traits-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .trait-card {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--nova-border);
      background: #ffffff;
      cursor: pointer;
      transition: 0.16s ease;
    }

    .trait-card:hover {
      box-shadow: 0 14px 30px rgba(15,23,42,0.08);
      transform: translateY(-1px);
    }

    .trait-card.selected {
      border-color: rgba(20,184,166,0.75);
      background: #ecfeff;
      box-shadow: 0 18px 42px rgba(15,118,110,0.25);
    }

    .trait-checkbox {
      width: 18px;
      height: 18px;
      border-radius: 6px;
      border: 1px solid var(--nova-border);
      margin-top: 2px;
      flex-shrink: 0;
      position: relative;
      background: #ffffff;
    }

    .trait-card.selected .trait-checkbox {
      border-color: var(--nova-teal);
      background: var(--nova-teal);
    }

    .trait-card.selected .trait-checkbox::after {
      content: "";
      position: absolute;
      inset: 3px;
      border-radius: 4px;
      background: #ffffff;
    }

    .trait-text {
      flex: 1;
    }

    .trait-name {
      font-size: 0.96rem;
      font-weight: 600;
      margin-bottom: 2px;
      color: var(--nova-text-main);
    }

    .trait-desc {
      font-size: 0.82rem;
      color: var(--nova-text-muted);
      line-height: 1.4;
    }

    .traits-helper {
      margin-top: 14px;
      font-size: 0.86rem;
      color: var(--nova-text-muted);
      line-height: 1.4;
    }

    .traits-actions {
      margin-top: 28px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      justify-content: center;
    }

    @media (min-width: 640px) {
      .traits-actions {
        flex-direction: row;
        justify-content: space-between;
      }
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      padding: 10px 22px;
      font-size: 0.95rem;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      border: none;
      transition: 0.18s ease;
      gap: 8px;
    }

    .btn-outline {
      background: transparent;
      color: var(--nova-text-main);
      border: 1px solid var(--nova-border);
    }

    .btn-outline:hover {
      background: #ffffff;
      box-shadow: 0 10px 25px rgba(15,23,42,0.08);
      transform: translateY(-1px);
    }

    .btn-primary {
      background: var(--nova-teal);
      color: #ffffff;
      box-shadow: 0 16px 32px rgba(20,184,166,0.45);
    }

    .btn-primary:hover {
      background: var(--nova-teal-dark);
      box-shadow: 0 18px 36px rgba(15,118,110,0.5);
      transform: translateY(-1px);
    }

    .chevron-left,
    .chevron-right {
      font-size: 1.1rem;
      line-height: 0;
    }

    .limit-note {
      font-size: 0.8rem;
      color: var(--nova-text-muted);
      margin-top: 4px;
    }
  </style>
</head>

<body>
  <main class="traits-page">
    <header class="traits-header">
      <div class="traits-step">Step Â· Key Traits</div>
      <h1 class="traits-title">Which Traits Sound Most Like You?</h1>
      <p class="traits-subtitle" id="traitsIntro">
        Pick the traits that feel most natural for how you already move in the world.
        Weâ€™ll use these to shape the roles Nova reveals next.
      </p>
      <div class="traits-category-label">
        Based on your category:
        <span class="traits-category-pill">
          <span>Category:</span>
          <span id="selectedCategoryLabel">Loadingâ€¦</span>
        </span>
      </div>
    </header>

    <section class="traits-panel" aria-label="Traits for this category">
      <div id="traitsCount" class="traits-count"></div>
      <div class="traits-label">Tap to select your key traits</div>
      <p class="limit-note">(You can pick up to 6 traits that really fit you.)</p>

      <div id="traitsGrid" class="traits-grid"></div>

      <p class="traits-helper">
        Donâ€™t overthink it. Choose the traits that describe how you
        naturally think, act, and show up most of the time â€” not who
        you wish you were on your best day.
      </p>
    </section>

    <nav class="traits-actions" aria-label="Trait navigation">
      <a href="subcategories.html" class="btn btn-outline">
        <span class="chevron-left">â€¹</span>
        <span>Back to Focus Areas</span>
      </a>

      <button id="continueTraitsBtn" class="btn btn-primary" type="button">
        <span>Continue to Roles</span>
        <span class="chevron-right">â€º</span>
      </button>
    </nav>
  </main>

  <script>
    // ðŸ”¹ All traits are UNIQUE across the entire mapping (no duplicated names)
    const traitsByCategory = {
      "Business & Leadership": [
        {
          name: "Strategic Visionary",
          desc: "You naturally think several moves ahead and see long-range direction."
        },
        {
          name: "Organizational Architect",
          desc: "You like structuring people, processes, and resources so things run smoothly."
        },
        {
          name: "Influential Communicator",
          desc: "Youâ€™re able to rally others around ideas, goals, and change."
        },
        {
          name: "Team Mobilizer",
          desc: "You help people move from talk into coordinated action."
        },
        {
          name: "Decision Confident",
          desc: "You can weigh options and choose a path without staying stuck."
        },
        {
          name: "Growth-Oriented Planner",
          desc: "You think in terms of targets, milestones, and improvement."
        },
        {
          name: "Change Champion",
          desc: "You lean into change and help others move through it."
        },
        {
          name: "Outcome Driver",
          desc: "You are focused on results and finishing what you start."
        }
      ],

      "Technology & Systems": [
        {
          name: "Systems Optimizer",
          desc: "You see how tools and processes can be tightened and improved."
        },
        {
          name: "Technical Troubleshooter",
          desc: "You enjoy getting into the details to fix whatâ€™s broken."
        },
        {
          name: "Logic-Driven Thinker",
          desc: "You lean on logic and clear reasoning to solve problems."
        },
        {
          name: "Workflow Streamliner",
          desc: "You like removing friction and extra steps from how work gets done."
        },
        {
          name: "Data Structure Builder",
          desc: "Youâ€™re drawn to organizing data, files, or systems in clear ways."
        },
        {
          name: "Integration Orchestrator",
          desc: "You think about how different tools or systems connect together."
        },
        {
          name: "Reliability Guardian",
          desc: "You care that systems stay up, stable, and dependable."
        },
        {
          name: "Automation Designer",
          desc: "You look for ways to automate repetitive or manual work."
        }
      ],

      "Creative & Design": [
        {
          name: "Imaginative Creator",
          desc: "You generate new ideas, concepts, and possibilities with ease."
        },
        {
          name: "Visual Storycrafter",
          desc: "You like communicating through images, layouts, or visual themes."
        },
        {
          name: "Concept Explorer",
          desc: "You enjoy exploring different creative angles and directions."
        },
        {
          name: "Brand Stylist",
          desc: "You think in terms of look, feel, and consistent identity."
        },
        {
          name: "Experience Shaper",
          desc: "You care about how people feel as they move through an experience."
        },
        {
          name: "Idea Illustrator",
          desc: "You help bring abstract ideas into concrete, visual form."
        },
        {
          name: "Narrative Designer",
          desc: "You enjoy shaping the story behind messages, products, or work."
        },
        {
          name: "Aesthetic Curator",
          desc: "Youâ€™re sensitive to color, layout, and overall aesthetic harmony."
        }
      ],

      "People & Community": [
        {
          name: "Heart-Centered Encourager",
          desc: "You naturally build others up and help them not give up."
        },
        {
          name: "Compassionate Listener",
          desc: "You make space for people to be heard and understood."
        },
        {
          name: "Trust-Builder",
          desc: "People feel safe opening up or partnering with you."
        },
        {
          name: "Group Uplifter",
          desc: "You help groups stay positive, hopeful, or energized."
        },
        {
          name: "Conflict Bridge-Builder",
          desc: "You look for common ground when tensions rise."
        },
        {
          name: "Support Advocate",
          desc: "You stand up for people who need help or protection."
        },
        {
          name: "Growth Coach",
          desc: "You enjoy helping others grow, learn, or heal."
        },
        {
          name: "Community Connector",
          desc: "You like introducing people and building networks."
        }
      ],

      "Analysis & Research": [
        {
          name: "Insight Miner",
          desc: "You dig below the surface to find whatâ€™s really going on."
        },
        {
          name: "Pattern Analyst",
          desc: "You notice trends, repetitions, and relationships in information."
        },
        {
          name: "Evidence Evaluator",
          desc: "You like weighing proof, pros and cons, and data quality."
        },
        {
          name: "Risk Mapper",
          desc: "You see where things could go wrong and how to prevent it."
        },
        {
          name: "Detail Verifier",
          desc: "You care that facts, numbers, or statements are correct."
        },
        {
          name: "Hypothesis Tester",
          desc: "You think in terms of testing ideas and seeing what holds up."
        },
        {
          name: "Trend Watcher",
          desc: "You track how things are changing over time."
        },
        {
          name: "Precision Planner",
          desc: "You like plans that are specific, documented, and clear."
        }
      ],

      "Hands-On & Field Work": [
        {
          name: "On-Site Problem Solver",
          desc: "You prefer solving issues where the work actually happens."
        },
        {
          name: "Practical Implementer",
          desc: "You like turning plans into real action and results."
        },
        {
          name: "Safety Steward",
          desc: "Youâ€™re attentive to safety, risk, and real-world conditions."
        },
        {
          name: "Reliable Operator",
          desc: "You can be counted on to keep things running day to day."
        },
        {
          name: "Condition Observer",
          desc: "You notice whatâ€™s off in the environment or setup."
        },
        {
          name: "Task Finisher",
          desc: "You take satisfaction in completing hands-on work."
        },
        {
          name: "Field Adaptor",
          desc: "You adjust quickly when conditions or needs change."
        },
        {
          name: "Tools & Tactics Expert",
          desc: "Youâ€™re comfortable working with tools, equipment, or gear."
        }
      ]
    };

    const MAX_SELECTED = 6;

    document.addEventListener("DOMContentLoaded", () => {
      const category = localStorage.getItem("novaSelectedCategory") || "Business & Leadership";

      const traitsForCategory = traitsByCategory[category] || traitsByCategory["Business & Leadership"];

      const categoryLabelEl = document.getElementById("selectedCategoryLabel");
      const traitsIntroEl = document.getElementById("traitsIntro");
      const traitsGridEl = document.getElementById("traitsGrid");
      const traitsCountEl = document.getElementById("traitsCount");
      const continueBtn = document.getElementById("continueTraitsBtn");

      categoryLabelEl.textContent = category;
      traitsIntroEl.textContent =
        `Based on your category â€œ${category}â€, pick the traits that sound most like how you already show up. ` +
        `Nova will use these to highlight roles that fit the way youâ€™re wired.`;

      traitsGridEl.innerHTML = "";

      const previouslySelected = JSON.parse(localStorage.getItem("novaSelectedTraits") || "[]");
      const selectedNames = new Set(previouslySelected);

      function updateCountLabel() {
        const count = selectedNames.size;
        traitsCountEl.textContent =
          count === 0
            ? "You havenâ€™t selected any traits yet."
            : `Youâ€™ve selected ${count} trait${count === 1 ? "" : "s"} so far.`;
      }

      traitsForCategory.forEach(trait => {
        const card = document.createElement("div");
        card.className = "trait-card";

        const checkbox = document.createElement("div");
        checkbox.className = "trait-checkbox";

        const textWrap = document.createElement("div");
        textWrap.className = "trait-text";

        const nameEl = document.createElement("div");
        nameEl.className = "trait-name";
        nameEl.textContent = trait.name;

        const descEl = document.createElement("div");
        descEl.className = "trait-desc";
        descEl.textContent = trait.desc || "";

        textWrap.appendChild(nameEl);
        textWrap.appendChild(descEl);

        card.appendChild(checkbox);
        card.appendChild(textWrap);

        if (selectedNames.has(trait.name)) {
          card.classList.add("selected");
        }

        card.addEventListener("click", () => {
          const isSelected = selectedNames.has(trait.name);

          if (!isSelected && selectedNames.size >= MAX_SELECTED) {
            alert(`You can select up to ${MAX_SELECTED} traits. Deselect one to choose another.`);
            return;
          }

          if (isSelected) {
            selectedNames.delete(trait.name);
            card.classList.remove("selected");
          } else {
            selectedNames.add(trait.name);
            card.classList.add("selected");
          }

          localStorage.setItem("novaSelectedTraits", JSON.stringify(Array.from(selectedNames)));
          updateCountLabel();
        });

        traitsGridEl.appendChild(card);
      });

      updateCountLabel();

      continueBtn.addEventListener("click", () => {
        if (selectedNames.size === 0) {
          const goOn = confirm("You havenâ€™t selected any traits. Do you still want to continue?");
          if (!goOn) return;
        }
        window.location.href = "roles.html";
      });
    });
  </script>
</body>
</html>
